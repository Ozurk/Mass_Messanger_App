#:kivy 2.3.0



<MassMessage>
    StartScreen:
    NameSelectorScreen:
    ReviewScreen:
    FinalReview:
    ProcessingScreen:

<StartScreen>
    BoxLayout: 
        orientation: "vertical"
        name: "StartScreen"
        padding:40
        Label:
            text: 'Core Mechanical Mass Messaging App'
            text_size: self.size
            font_size: 30
            halign: 'center'
            valign: 'middle'
            size_hint_y: .2
        Button:
            size_hint_y: .3
            text: "Continue"
            on_release: app.root.current = "NameSelectorScreen"
            font_size: 25
        Button:
            size_hint_y: .1
            text: "Help"

<NameSelectorScreen>
    name: "NameSelectorScreen"
    BoxLayout:
        orientation: "vertical"
        Label:
            size_hint_y: .1
            text: "Select the team members you would like to message"
        BoxLayout:
            size_hint_y: .1
            Button:
                text: "Select/ Unselect All"
                background_color: 0, .5, 1, 1
                on_release: root.select_unselect_all()
        ScrollView:
            size_hint_y: .7
            GridLayout:
                id: NameGrid
                size_hint_y: None
                height: 3000
                rows:1000
                cols:4
        Button:
            size_hint_y: .15
            text: "Continue"
            background_color: 2, 2, 2, 1
            color: (0, 0, 0, 1)
            on_release: app.root.current = "ReviewScreen"

<FinalReview>
    name: "FinalReview"
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Final Review"
            font_size: 60
            color: 1, 0, 0, 1
            size_hint_y: .2
            canvas.before:
                Color:
                    rgba: 0, .5, .2, 1
                Rectangle:
                    size: self.size
                    pos: self.pos
        BoxLayout:
            ScrollView:
                size_hint_x: .4
                Label:
                    text_size: self.width, None
                    height: self.texture_size[1]
                    text: app.recipients_var
            Label:
                text_size: self.width, None
                text: app.message
                halign: 'center'
                valign: "middle"
                font_size: 40

    BoxLayout:
        size_hint_y: .15
        Button:
            text: "go back"
            font_size: 40
            background_color: 0, 1, 0, 1
            on_press: app.root.current = "NameSelectorScreen"
        Button:
            size_hint_x: .2
            text: "Send Message"
            on_press: app.root.current = "ProcessingScreen"
            background_color: 1, 0, 0, 1


<ReviewScreen>
    name: "ReviewScreen"
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            ScrollView:
                size_hint_x: .4
                Label:
                    id: recipients_label
                    size_hint: 1, None
                    text_size: self.width, None
                    height: self.texture_size[1]
                    text: app.recipients_var
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Type the message below"
                    halign: "center"
                    valign: "middle"
                    color: 2, 1, .75, 1
                    font_size: 26
                    text_size: self.size
                TextInput:
                    text_size: 100
                    id: message_input
        Button:
            size_hint_y: .2
            text: "continue"
            background_color: 0, 1, 0, 1
            on_press: app.root.current = "FinalReview"
        Button:
            size_hint_y: .2
            text: "go back"
            on_press: app.root.current = "NameSelectorScreen"


<ProcessingScreen>
    name: "ProcessingScreen"
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Status"
            font_size: 45
            size_hint_y: .2
        Label: 
            text:app.status
        Button:
            size_hint_y: .2
            text: "Start Over"

